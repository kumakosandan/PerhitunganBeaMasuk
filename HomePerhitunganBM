<html>
<head>
	<title>Kalkulator Bea Masuk</title>
</head>
<body>
	<script>
		function CekPerhitungan(form) {
			//ambil dari HTML
			var Harga_Barang = Number(form.HargaBarang.value);
			var Biaya_Ongkir = Number(form.ongkir.value);
			var Nominal_Rate = Number(form.rate.value);
			var Jenis_Barang = form.JenisBarang.value;
		
			//variabel perhitungan
			var Total_IDR;
			var Persentase_BM;
			var Tarif_BM;
			var Dasar_Pajak;
			var Per_PPN;
			var Total_Pajak;
			var Total_Keseluruhan;
		
			//Persentase_BM General 7.5%, Tas 20%, Sepatu 30%, Tesktil 20% ambil dari HTML
			if (Jenis_Barang == "General"){
				Persentase_BM = 0.075 } 
			else if (Jenis_Barang == "Tas"){
			Persentase_BM = 0.2}
			else if (Jenis_Barang == "Sepatu"){
			Persentase_BM = 0.3}
			else {
			Persentase_BM = 0.2}
		
			//perhitungan otomatis
			Total_IDR = (Harga_Barang + Biaya_Ongkir) * Nominal_Rate;
			Tarif_BM = Math.round(Total_IDR * Persentase_BM);
			Dasar_Pajak = Math.round(Total_IDR + Tarif_BM);
			Per_PPN = Math.round(Dasar_Pajak * 0.1);
			Total_Pajak = Tarif_BM + Per_PPN;
			Total_Keseluruhan = Total_IDR + Total_Pajak;
			
			function numberWithCommas(x) {
				return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
			}
		
			//pass data ke HTML
			document.getElementById("TotalBarangIDR").value = numberWithCommas(Total_IDR);
			document.getElementById("TarifBeaMasuk").value = numberWithCommas(Tarif_BM);
			document.getElementById("DasarPengenaanPajak").value = numberWithCommas(Dasar_Pajak);
			document.getElementById("JumlahPPN").value = numberWithCommas(Per_PPN);
			document.getElementById("NominalTotalPajak").value = numberWithCommas(Total_Pajak);
			document.getElementById("NominalTotalKeseluruhan").value = numberWithCommas(Total_Keseluruhan);
		}
	</script> 

	<form name ="myform" action ="" method ="GET">
		<table>
		<tr>
			<td>Harga Barang </td> 
			<td><input type="text" name ="HargaBarang" id="HargaBarang"></td>
		</tr>
		<tr>
			<td>Ongkir </td> 
			<td><input type="text" name="ongkir" id="ongkir"></td>
		</tr>
		<tr>
			<td>Rate </td> 
			<td><input type="text" name="rate" id="rate"></td>
		</tr>
		<tr>
			<td>Jenis Barang </td> 
			<td>		
				<select id="JenisBarang" name="JenisBarang">
					<option value="General">General</option>
					<option value="Tas">Tas</option>
					<option value="Sepatu">Sepatu</option>
					<option value="Tesktil">Tekstil</option>
				</select>
			</td>
		</tr>
		</table>
		</br>
		<input type="button" value ="Submit" name="submitbutton" onclick="CekPerhitungan(this.form)">
	</form>
	
	<form name ="myform" action ="" method ="GET">
		<table>
		<tr>
			<td>Total Barang dalam IDR</td> 
			<td><input type="text" id="TotalBarangIDR" disabled ></td>
		</tr>
		<tr>
			<td>Tarif Bea Masuk</td> 
			<td><input type="text" id="TarifBeaMasuk" disabled></td>
		</tr>
		<tr>
			<td>Dasar Pengenaan Pajak</td> 
			<td><input type="text" id="DasarPengenaanPajak" disabled></td>
		</tr>
		<tr>
			<td>PPN</td> 
			<td><input type="text" id="JumlahPPN" disabled></td>
		</tr>
		<tr>
			<td>Total Pajak</td> 
			<td><input type="text" id="NominalTotalPajak" disabled></td>
		</tr>
		<tr>
			<td>Total Keseluruhan</td> 
			<td><input type="text" id="NominalTotalKeseluruhan" disabled></td>
		</tr>
		
		</table>
	</form>
</body>

</html>
